{
  "info": {
    "name": "RailNet API - Railway Booking System",
    "description": "Complete API collection for testing the RailNet railway booking system with authentication, CRUD operations, seat booking, and payment integration.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "railnet-api"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"role\": \"user\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "register"
              ]
            },
            "description": "Register a new user account"
          },
          "response": []
        },
        {
          "name": "Register Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"admin123\",\n  \"firstName\": \"Admin\",\n  \"lastName\": \"User\",\n  \"role\": \"admin\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "register"
              ]
            },
            "description": "Register an admin user account"
          },
          "response": []
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('user_token', response.token);",
                  "    pm.collectionVariables.set('user_id', response.user.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "login"
              ]
            },
            "description": "Login with user credentials and store token"
          },
          "response": []
        },
        {
          "name": "Login Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('admin_token', response.token);",
                  "    pm.collectionVariables.set('admin_id', response.user.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "login"
              ]
            },
            "description": "Login with admin credentials and store token"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Stations",
      "item": [
        {
          "name": "Create Station (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Dhaka Central\",\n  \"city\": \"Dhaka\",\n  \"latitude\": 23.8103,\n  \"longitude\": 90.4125\n}"
            },
            "url": {
              "raw": "{{base_url}}/stations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "stations"
              ]
            },
            "description": "Create a new railway station (Admin only)"
          },
          "response": []
        },
        {
          "name": "Create Another Station (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Chittagong Central\",\n  \"city\": \"Chittagong\",\n  \"latitude\": 22.3569,\n  \"longitude\": 91.7832\n}"
            },
            "url": {
              "raw": "{{base_url}}/stations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "stations"
              ]
            },
            "description": "Create another railway station (Admin only)"
          },
          "response": []
        },
        {
          "name": "Create Third Station (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Sylhet Central\",\n  \"city\": \"Sylhet\",\n  \"latitude\": 24.8949,\n  \"longitude\": 91.8687\n}"
            },
            "url": {
              "raw": "{{base_url}}/stations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "stations"
              ]
            },
            "description": "Create a third railway station (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Stations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/stations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "stations"
              ]
            },
            "description": "Get all railway stations"
          },
          "response": []
        },
        {
          "name": "Get Station by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/stations/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "stations",
                "1"
              ]
            },
            "description": "Get a specific station by ID"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Compartments",
      "item": [
        {
          "name": "Create Compartment (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"AC Business\",\n  \"class\": \"First\",\n  \"type\": \"AC\",\n  \"price\": 1500,\n  \"totalSeats\": 20\n}"
            },
            "url": {
              "raw": "{{base_url}}/compartments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "compartments"
              ]
            },
            "description": "Create a new train compartment (Admin only)"
          },
          "response": []
        },
        {
          "name": "Create Economy Compartment (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Economy Non-AC\",\n  \"class\": \"Economy\",\n  \"type\": \"Non-AC\",\n  \"price\": 500,\n  \"totalSeats\": 50\n}"
            },
            "url": {
              "raw": "{{base_url}}/compartments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "compartments"
              ]
            },
            "description": "Create an economy compartment (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Compartments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/compartments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "compartments"
              ]
            },
            "description": "Get all train compartments"
          },
          "response": []
        },
        {
          "name": "Get Compartment by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/compartments/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "compartments",
                "1"
              ]
            },
            "description": "Get a specific compartment by ID"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Train Routes",
      "item": [
        {
          "name": "Create Train Route (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Dhaka to Chittagong Express\",\n  \"stations\": [\n    {\n      \"stationId\": 1,\n      \"distance\": 0\n    },\n    {\n      \"stationId\": 2,\n      \"distance\": 250\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/train-routes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-routes"
              ]
            },
            "description": "Create a new train route with stations (Admin only)"
          },
          "response": []
        },
        {
          "name": "Create Route with 3 Stations (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Dhaka to Sylhet Express\",\n  \"stations\": [\n    {\n      \"stationId\": 1,\n      \"distance\": 0\n    },\n    {\n      \"stationId\": 3,\n      \"distance\": 220\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/train-routes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-routes"
              ]
            },
            "description": "Create a train route with 3 stations (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Train Routes (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-routes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-routes"
              ]
            },
            "description": "Get all train routes (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get Train Route by ID (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-routes/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-routes",
                "1"
              ]
            },
            "description": "Get a specific train route by ID (Admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Trains",
      "item": [
        {
          "name": "Create Train (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Subarna Express\",\n  \"number\": \"701\",\n  \"trainRouteId\": 1,\n  \"compartments\": [\n    {\n      \"compartmentId\": 1,\n      \"quantity\": 2\n    },\n    {\n      \"compartmentId\": 2,\n      \"quantity\": 3\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/trains",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "trains"
              ]
            },
            "description": "Create a new train with compartments (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Trains",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/trains",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "trains"
              ]
            },
            "description": "Get all trains"
          },
          "response": []
        },
        {
          "name": "Get Train by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/trains/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "trains",
                "1"
              ]
            },
            "description": "Get a specific train by ID"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Train Schedules",
      "item": [
        {
          "name": "Create Train Schedule (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"trainId\": 1,\n  \"date\": \"2025-12-10\",\n  \"time\": \"08:00\",\n  \"stationTimes\": [\n    {\n      \"stationId\": 1,\n      \"arrivalTime\": \"08:00\",\n      \"departureTime\": \"08:05\"\n    },\n    {\n      \"stationId\": 2,\n      \"arrivalTime\": \"12:00\",\n      \"departureTime\": \"12:05\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/train-schedules",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-schedules"
              ]
            },
            "description": "Create a new train schedule (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Train Schedules",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-schedules",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-schedules"
              ]
            },
            "description": "Get all train schedules"
          },
          "response": []
        },
        {
          "name": "Get Train Schedule by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-schedules/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-schedules",
                "1"
              ]
            },
            "description": "Get a specific train schedule by ID"
          },
          "response": []
        },
        {
          "name": "Get Schedules by Date",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-schedules/date/2025-12-10",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-schedules",
                "date",
                "2025-12-10"
              ]
            },
            "description": "Get train schedules for a specific date"
          },
          "response": []
        },
        {
          "name": "Get Schedules by Route",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-schedules/route/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-schedules",
                "route",
                "1"
              ]
            },
            "description": "Get train schedules for a specific route"
          },
          "response": []
        },
        {
          "name": "Search Train Schedules",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-schedules/search?fromStationId=1&toStationId=2&date=2025-12-10",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-schedules",
                "search"
              ],
              "query": [
                {
                  "key": "fromStationId",
                  "value": "1"
                },
                {
                  "key": "toStationId",
                  "value": "2"
                },
                {
                  "key": "date",
                  "value": "2025-12-10"
                }
              ]
            },
            "description": "Search train schedules by route and date"
          },
          "response": []
        },
        {
          "name": "Get Train Schedule Seats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-schedules/1/seats",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-schedules",
                "1",
                "seats"
              ]
            },
            "description": "Get seat layout for a train schedule"
          },
          "response": []
        },
        {
          "name": "Get Available Seats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/train-schedules/1/available-seats",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "train-schedules",
                "1",
                "available-seats"
              ]
            },
            "description": "Get available seats for a train schedule"
          },
          "response": []
        }
      ]
    },
      {
        "name": "Tickets",
        "item": [
          {
            "name": "Book Ticket",
            "event": [
              {
                "listen": "test",
                "script": {
                  "exec": [
                    "if (pm.response.code === 201) {",
                    "    const response = pm.response.json();",
                    "    pm.collectionVariables.set('ticket_id', response.id);",
                    "    pm.collectionVariables.set('ticket_ticketId', response.ticketId);",
                    "}"
                  ]
                }
              }
            ],
            "request": {
              "method": "POST",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{user_token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{\n  \"trainScheduleId\": 1,\n  \"fromStationId\": 1,\n  \"toStationId\": 2,\n  \"compartmentId\": 1,\n  \"seatNumber\": \"1\",\n  \"passengerName\": \"John Doe\",\n  \"passengerAge\": 30,\n  \"passengerGender\": \"Male\"\n}"
              },
              "url": {
                "raw": "{{base_url}}/tickets",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "tickets"
                ]
              },
              "description": "Book a train ticket"
            },
            "response": []
          },
          {
            "name": "Get My Tickets",
            "request": {
              "method": "GET",
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{user_token}}"
                }
              ],
              "url": {
                "raw": "{{base_url}}/tickets",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "tickets"
                ]
              },
              "description": "Get all tickets for the authenticated user"
            },
            "response": []
          },
          {
            "name": "Get Ticket by ID",
            "request": {
              "method": "GET",
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{user_token}}"
                }
              ],
              "url": {
                "raw": "{{base_url}}/tickets/{{ticket_id}}",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "tickets",
                  "{{ticket_id}}"
                ]
              },
              "description": "Get a specific ticket by ID"
            },
            "response": []
          },
          {
            "name": "Cancel Ticket",
            "request": {
              "method": "PUT",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{user_token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{}"
              },
              "url": {
                "raw": "{{base_url}}/tickets/{{ticket_id}}/cancel",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "tickets",
                  "{{ticket_id}}",
                  "cancel"
                ]
              },
              "description": "Cancel a ticket"
            },
            "response": []
          }
        ]
      },
      {
        "name": "Payments",
        "item": [
          {
            "name": "Initiate Payment",
            "event": [
              {
                "listen": "test",
                "script": {
                  "exec": [
                    "if (pm.response.code === 200) {",
                    "    const response = pm.response.json();",
                    "    pm.collectionVariables.set('payment_url', response.paymentUrl);",
                    "    pm.collectionVariables.set('transaction_id', response.transactionId);",
                    "}"
                  ]
                }
              }
            ],
            "request": {
              "method": "POST",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{user_token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{\n  \"ticketId\": \"{{ticket_ticketId}}\"\n}"
              },
              "url": {
                "raw": "{{base_url}}/payments/initiate",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "payments",
                  "initiate"
                ]
              },
              "description": "Initiate SSLCommerz payment for a ticket"
            },
            "response": []
          },
          {
            "name": "Payment Success Callback",
            "request": {
              "method": "GET",
              "header": [],
              "url": {
                "raw": "{{base_url}}/payments/success?tran_id={{transaction_id}}&val_id=test_validation_id",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "payments",
                  "success"
                ],
                "query": [
                  {
                    "key": "tran_id",
                    "value": "{{transaction_id}}"
                  },
                  {
                    "key": "val_id",
                    "value": "test_validation_id"
                  }
                ]
              },
              "description": "SSLCommerz success callback (usually called by SSLCommerz)"
            },
            "response": []
          },
          {
            "name": "Payment Fail Callback",
            "request": {
              "method": "GET",
              "header": [],
              "url": {
                "raw": "{{base_url}}/payments/fail?tran_id={{transaction_id}}&error=payment_failed",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "payments",
                  "fail"
                ],
                "query": [
                  {
                    "key": "tran_id",
                    "value": "{{transaction_id}}"
                  },
                  {
                    "key": "error",
                    "value": "payment_failed"
                  }
                ]
              },
              "description": "SSLCommerz failure callback (usually called by SSLCommerz)"
            },
            "response": []
          },
          {
            "name": "Payment Cancel Callback",
            "request": {
              "method": "GET",
              "header": [],
              "url": {
                "raw": "{{base_url}}/payments/cancel?tran_id={{transaction_id}}",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "payments",
                  "cancel"
                ],
                "query": [
                  {
                    "key": "tran_id",
                    "value": "{{transaction_id}}"
                  }
                ]
              },
              "description": "SSLCommerz cancel callback (usually called by SSLCommerz)"
            },
            "response": []
          },
          {
            "name": "Payment IPN (Instant Payment Notification)",
            "request": {
              "method": "POST",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{\n  \"tran_id\": \"{{transaction_id}}\",\n  \"val_id\": \"test_validation_id\",\n  \"amount\": \"1500.00\",\n  \"card_type\": \"VISA\",\n  \"store_amount\": \"1500.00\",\n  \"card_no\": \"\",\n  \"bank_tran_id\": \"test_bank_tran_id\",\n  \"status\": \"VALID\",\n  \"tran_date\": \"2025-12-05 10:00:00\",\n  \"error\": \"\",\n  \"currency\": \"BDT\",\n  \"card_issuer\": \"Test Bank\",\n  \"card_brand\": \"VISA\",\n  \"card_sub_brand\": \"\",\n  \"card_issuer_country\": \"Bangladesh\",\n  \"card_issuer_country_code\": \"BD\",\n  \"store_id\": \"test_store\",\n  \"verify_sign\": \"test_signature\",\n  \"verify_key\": \"test_key\",\n  \"sessionkey\": \"test_session\",\n  \"tran_type\": \"online\",\n  \"cus_name\": \"John Doe\",\n  \"cus_email\": \"john@example.com\",\n  \"cus_add1\": \"Dhaka\",\n  \"cus_add2\": \"\",\n  \"cus_city\": \"Dhaka\",\n  \"cus_state\": \"Dhaka\",\n  \"cus_postcode\": \"1000\",\n  \"cus_country\": \"Bangladesh\",\n  \"cus_phone\": \"01700000000\",\n  \"cus_fax\": \"\",\n  \"ship_name\": \"\",\n  \"ship_add1\": \"\",\n  \"ship_add2\": \"\",\n  \"ship_city\": \"\",\n  \"ship_state\": \"\",\n  \"ship_postcode\": \"\",\n  \"ship_country\": \"\",\n  \"currency_type\": \"BDT\",\n  \"currency_amount\": \"1500.00\",\n  \"currency_rate\": \"1.0000\",\n  \"base_fair\": \"1500.00\",\n  \"value_a\": \"\",\n  \"value_b\": \"\",\n  \"value_c\": \"\",\n  \"value_d\": \"\",\n  \"subscription_id\": \"\",\n  \"risk_level\": \"0\",\n  \"risk_title\": \"Safe\"\n}"
              },
              "url": {
                "raw": "{{base_url}}/payments/ipn",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "payments",
                  "ipn"
                ]
              },
              "description": "SSLCommerz IPN callback for payment confirmation"
            },
            "response": []
          },
          {
            "name": "Cleanup Expired Bookings (Admin)",
            "request": {
              "method": "POST",
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{admin_token}}"
                }
              ],
              "url": {
                "raw": "{{base_url}}/payments/cleanup",
                "host": [
                  "{{base_url}}"
                ],
                "path": [
                  "payments",
                  "cleanup"
                ]
              },
              "description": "Manually trigger cleanup of expired pending bookings (Admin only)"
            },
            "response": []
          }
        ]
      }
    ],
    "event": [
      {
        "listen": "prerequest",
        "script": {
          "type": "text/javascript",
          "exec": [
            "// Set base URL if not set",
            "if (!pm.environment.get('base_url')) {",
            "    pm.environment.set('base_url', 'http://localhost:3000');",
            "}"
          ]
        }
      }
    ],
    "variable": [
      {
        "key": "base_url",
        "value": "http://localhost:3000",
        "type": "string"
      },
      {
        "key": "user_token",
        "value": "",
        "type": "string"
      },
      {
        "key": "admin_token",
        "value": "",
        "type": "string"
      },
      {
        "key": "user_id",
        "value": "",
        "type": "string"
      },
      {
        "key": "admin_id",
        "value": "",
        "type": "string"
      },
      {
        "key": "ticket_id",
        "value": "",
        "type": "string"
      },
      {
        "key": "ticket_ticketId",
        "value": "",
        "type": "string"
      },
      {
        "key": "payment_url",
        "value": "",
        "type": "string"
      },
      {
        "key": "transaction_id",
        "value": "",
        "type": "string"
      }
    ]
  }